---
layout: post
title: 耗电量测试横向评测流程
categories: 测试方法
description: some word here
keywords: keyword1, keyword2
---

### 步骤一：确认需求以及需求来源：  
产品：“麻烦测试有空的时候搞下待测APP加入锁屏后的横向对比，对比对象瞄准： A 和B”


### 步骤二：制定方案：              

1. 确定竞品和待测APP的锁屏功能通用的地方，确定可对比性【之前踩过一个坑：要竞品对比之前没有对竞品进行了解，后来做的过程中才发现：竞品的垃圾清理的方式和助手的垃圾清理方式很不同，没有可比性】。如下：  
    * A产品的功能有：      
        1. 获取白名单中的APP消息通知    
        2. 锁屏回复短信     
        3. 快捷启动应用     
        4. 快捷操作音乐      
    * B产品的功能有    
        1. 获取白名单中的APP消息通知      
        2. 清理应用     
        3. 快捷启动应用     
        4. 某些设置快捷操作     
    * C产品的功能有      
        1. 获取白名单中的APP消息通知      
        2. 快捷启动应用     
        3. 某些设置快捷操作      
    * 其中，与耗电功能相关的，且公共的功能是1. 获取白名单中的APP消息通知 
          

2. 跟开发了解耗电的地方。① 监控手机中所有的广播通知 ② 锁屏界面的展示  
         
3. 确定要测试的功能后，再确定测试场景。主要从以下方面考虑：    
    * 造成耗电的原因：监控系统广播，过滤消息后展示在锁屏界面上，而且在这个过程中，接收到通知的APP会点亮屏幕，就会显示锁屏界面，因此，确定的测试方案是：给被测手机上的QQ发送QQ消息，屏幕一亮一黑后（调整手机上的屏幕显示时间为最短，保证屏幕不会一直亮着而进行耗电），再次给该QQ发送消息，持续2H，观察耗电情况【说明：用户长场景里面，不会有消息持续2H，这么操作的原因是：数据量小的时候不利于发现问题】
    * 用户的使用场景：用户在晚上休息的时候，一般的APP不会发送通知，但是被测APP仍然会进行监控但是不进入逻辑，因此，使用锁屏功能后，待机12H，观察耗电情况


### 步骤三：确认方案
1. 和测试开发确认是否需要补充：测试开发可以自动化场景1  
2. 和产品确认测试场景，测试手机是否需要补充


### 步骤四：测试执行

注意事项：
  
1. 由于待机12H时间较长，需要提前算好取数据的时间，以免12H到了之后取不到数据，如：人在家，手机在公司
2. 由于测试周期太长，需要合理安排测试时间，如：待机12H的可以安排在晚上下班后，其他2H的安排在白天的时候


### 步骤六：测试结果产出

报告格式：
  
1. 测试结论
2. 测试结果详情
3. 测试环境，测试步骤说明


**过程中的注意事项**  

1. 之前在制定耗电量评测方案时，除了选择产品指定的A 和B之外，另外选择了系统自带的锁屏作为参考标准，但是由于使用的耗电量工具GSam Battery Monitor Pro的应用列表中没有对系统APP的监控，因此该方案被测试开发舍去
2. 测试之前，尤其是在长时间测试之前，应保证手机中电量充足，以免测试过程中没电关机导致数据丢失


**备注：**测试耗电量的环境配置相关的查看下一篇



